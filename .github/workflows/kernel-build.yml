name: Kernel Build Actions

on:
  workflow_dispatch:

jobs:
  build:
    runs-on: ubuntu-latest
    defaults:
      run:
        shell: bash
        working-directory: /home/runner

    steps:

      - name: Setup Environment 🔧⚙️
        run: |
          curl -L -O https://raw.githubusercontent.com/redmi-mt6765-dev/kernel-build-actions/refs/heads/main/setup.sh
          bash setup.sh

      - name: Setup python2 🐍
        uses: LizardByte/setup-python-action@master
        with:
          python-version: '2.7'

      - name: Run Build Script 🚀💣
        run: |
          curl -L -O https://raw.githubusercontent.com/redmi-mt6765-dev/kernel-build-actions/refs/heads/main/build.sh
          bash build.sh
